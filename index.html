<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="main.css">
    <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
    <script src="https://code.jquery.com/ui/1.13.1/jquery-ui.js"></script>
    <title></title>
</head>
<body>
    <a class="myLinkModal" href="#"><em>Информация</em></a>
<div id="myModal">
  <p>Контент</p>
<br>Добро пожаловать!</br><p id="zxc">На этом сайте вы можете поиграть с клавиатурой</p>
  <span id="myModal__close" class="close">ₓ</span>
</div>
<div id="myOverlay"></div>
<h1 class="title">ГЛАЗА НА ЭКРАНЕ</h1>
<div class="keyboard">
  <ul class="row row-0">
    <li class="pinky" id="esc">ESC</li>
    <li class="pinky" id="1">1 !</li>
    <li class="ring" id="2">2 @</li>
    <li class="middle" id="3">3 #</li>
    <li class="pointer1st" id="4">4 $</li>
    <li class="pointer2nd" id="5">5 %</li>
    <li class="pointer2nd" id="6">6 ^</li>
    <li class="pointer1st" id="7">7 &</li>
    <li class="middle" id="8">8 *</li>
    <li class="ring" id="9">9 (</li>
    <li class="pinky" id="10">0 )</li>
    <li class="pinky" >- _</li>
    <li class="pinky" >+ =</li>
    <li class="pinky" id="back">Backspace</li>
  </ul>
  <ul class="row row-1">
    <li class="pinky" id="tab">Tab</li>
    <li class="pinky" id="Q">Q й</li>
    <li class="ring" id="W">W ц</li>
    <li class="middle" id="E">E у</li>
    <li class="pointer1st" id="R">R к</li>
    <li class="pointer2nd" id="T">T е</li>
    <li class="pointer2nd" id="Y">Y н</li>
    <li class="pointer1st" id="U">U г</li>
    <li class="middle" id="I">I ш</li>
    <li class="ring" id="O">O щ</li>
    <li class="pinky" id="P">P з</li>
    <li class="pinky" >[ х</li>
    <li class="pinky" >] ъ</li>
    <li class="pinky" >\ /</li>
  </ul>
  <ul class="row row-2">
    <li class="pinky" id="caps">CapsLk</li>
    <li class="pinky" id="A">A ф</li>
    <li class="ring" id="S">S ы</li>
    <li class="middle" id="D">D в</li>
    <li class="pointer1st" id="F">F а</li>
    <li class="pointer2nd" id="G">G п</li>
    <li class="pointer2nd" id="H">H р</li>
    <li class="pointer1st" id="J">J о</li>
    <li class="middle" id="K">K л</li>
    <li class="ring" id="L">L д</li>
    <li class="pinky" >: ж</li>
    <li class="pinky" >'' Э/э</li>
    <li class="pinky" id="enter">Enter</li>
  </ul>
  <ul class="row row-3">
    <li class="pinky" id="left-shift">Shift</li>
    <li class="pinky" id="Z">Z я</li>
    <li class="ring" id="X">X ч</li>
    <li class="middle" id="C">C с</li>
    <li class="pointer1st" id="V">V м</li>
    <li class="pointer2nd" id="B">B и</li>
    <li class="pointer2nd" id="N">N т</li>
    <li class="pointer1st" id="M">M ь</li>
    <li class="middle" >, б</li>
    <li class="ring" >. ю</li>
    <li class="pinky" >; .</li>
    <li class="pinky" id="right-shift">Shift</li>
  </ul>
</div>
<h1 class="title">РУКИ НА КЛАВИАТУРЕ</h1>

<script type="text/javascript">const keys = [..."ABCDEFGHIJKLMNOPQRSTUVWXYZйцукенгшщзхъфывапролджэячсмитьбю."];

const timestamps = [];

timestamps.unshift(getTimestamp());

function getRandomNumber(min, max) {
    min = Math.ceil(min);
    max = Math.floor(max);
    return Math.floor(Math.random() * (max - min + 1)) + min;
}

function getRandomKey() {
  return keys[getRandomNumber(0, keys.length-1)]
}

function targetRandomKey() {
  const key = document.getElementById(getRandomKey());
  key.classList.add("selected");
  let start = Date.now()
}

function getTimestamp() {
  return Math.floor(Date.now() / 1000)
}

document.addEventListener("keyup", event => {
  const keyPressed = String.fromCharCode(event.keyCode);
  const keyElement = document.getElementById(keyPressed);
  const highlightedKey = document.querySelector(".selected");
  
  keyElement.classList.add("hit")
  keyElement.addEventListener('animationend', () => {
    keyElement.classList.remove("hit")
  })
  
  if (keyPressed === highlightedKey.innerHTML) {
    timestamps.unshift(getTimestamp());
    const elapsedTime = timestamps[0] - timestamps[1];
    console.log(`Character per minute ${60/elapsedTime}`)
    highlightedKey.classList.remove("selected");
    targetRandomKey();
  } 
})

targetRandomKey();</script>
<script type="text/javascript">$(document).ready(function() {
  $('a.myLinkModal').click( function(event){
    event.preventDefault();
    $('#myOverlay').fadeIn(297, function(){
      $('#myModal') 
      .css('display', 'block')
      .animate({opacity: 1}, 198);
    });
  });

  $('#myModal__close, #myOverlay').click( function(){
    $('#myModal').animate({opacity: 0}, 198, function(){
      $(this).css('display', 'none');
      $('#myOverlay').fadeOut(297);
    });
  });
});</script>
</body>
</html>